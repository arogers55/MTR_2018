
<!-- header navigation -->
<div class="d-none d-md-block col-xs-12 col-md-9 p-0">
    <nav class="navbar navbar-expand-md navbar-light p-0">
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
        {% for link in linklists.main-menu.links %}
            {% assign topLevelIndex = forloop.index %}
            {% if link.levels == 0 %}
            <li class="nav-item">
                <a href="{{ link.url }}" class="nav-link pb-0 text-dark">{{ link.title }}</a>
            </li>
            {% else%}
            <li class="nav-item">
                <div class="nav-link custom-dropdown h-100">
                <a href="{{ link.url }}" class="text-dark">{{linklists[link.title].title}}</a>
                <div class="accordion bg-grey border dropdown-content border-dark" id="accordion-{{ topLevelIndex }}">
                    {% for child_link in linklists[link.title].links %}
                    {% if child_link.levels == 0 %}
                        <div class="p-0" id="heading-{{ topLevelIndex }}-{{forloop.index}}">
                            <a class="row p-1 justify-content-between" href="{{ child_link.url }}" role="button" data-toggle="collapse" data-target="#collapse-{{ topLevelIndex }}-{{forloop.index}}" aria-expanded="false" aria-controls="collapse-{{ topLevelIndex }}-{{ forloop.index }}">
                            <div class="col-auto p-0">
                                <span class="collapsed w-100 font-weight-normal text-left pl-3">
                                {{ child_link.title }}
                                </span>
                            </div>
                            </a>
                        </div>
                    {% else %}
                        <div>
                            <div class="p-0" id="heading-{{ topLevelIndex }}-{{forloop.index}}">
                                <a class="row p-1 justify-content-between" href="{{ child_link.url }}" role="button" data-toggle="collapse" data-target="#collapse-{{ topLevelIndex }}-{{forloop.index}}" aria-expanded="false" aria-controls="collapse-{{ topLevelIndex }}-{{ forloop.index }}">
                                <div class="col-auto p-0">
                                    <span class="collapsed w-100 font-weight-normal text-left pl-3">
                                    {{ child_link.title }}
                                    </span>
                                </div>
                                <div class="col-auto align-self-center">
                                    <i class="fas fa-caret-down"></i>
                                </div>
                                </a>
                            </div>

                            <div id="collapse-{{ topLevelIndex }}-{{ forloop.index }}" class="collapse" aria-labelledby="heading-{{ topLevelIndex }}-{{ forloop.index }}" data-parent="#accordion-{{ topLevelIndex }}">
                                <div class=" border-top border-bottom bg-black border-dark">
                                {% for second_level_link in child_link.links %}
                                    <a class="row p-1" href="{{ second_level_link.url }}">
                                    <div class="col w-100 p-0 align-items-center">
                                        <span class="font-weight-normal text-left align-middle pl-3 text-truncate d-inline-block w-100 h-100 ">
                                        {{ second_level_link.title }}
                                        </span>
                                    </div>
                                    </a>                                        
                                {% endfor %}
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    {% endfor %}
                </div>
                </div>
            </li>
            {% endif %}
        {% endfor %}
        </ul>
    </div>
    </nav>
</div>


<style>
  .logo-size-min {
    min-width: 175px;
  }
  .nav-link {
    font-weight: bold
  }

  /* Dropdown container - needed to position the dropdown content */
  .custom-dropdown {
      overflow: hidden;
  }

  /* Style the dropdown content (hidden by default) */
  .dropdown-content {
      display: none;
      position: absolute;
      width: 300px;
      z-index: 100;
  }

  .custom-dropdown .btn-link {
    color: black;
    text-decoration: none;
  }

  .custom-dropdown .row {
    text-decoration: none;
    color: #f8f9fa;
  }

  .custom-dropdown .row:hover {
    background-color: #ffc107;
    color: black;
  }

  /* Show the dropdown menu when the user moves the mouse over the dropdown button */
  .custom-dropdown:hover .dropdown-content {
    display: block;
  }
</style>