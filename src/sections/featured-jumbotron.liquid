{%- assign product = all_products[section.settings.product] -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}
{%- assign featured_image = section.settings.featured_jumbotron_image -%}

{% if product == empty %}
  {%- assign section_onboarding = true -%}
  {%- assign onboarding_title = 'homepage.onboarding.product_title' | t -%}
{% endif %}
	
<section data-section-id="{{ section.id }}" data-section-type="product" itemscope itemtype="http://schema.org/Product" class="jumbotron jumbotron-fluid p-0 mb-3 featured-jumbo-styles">
  <meta itemprop="name" content="{{ product.title }}">
  <meta itemprop="url" content="{{ shop.url }}{{ product.url }}">
  <meta itemprop="image" content="{{ featured_image | img_url: '1920x' }}">
  <meta itemprop="description" content="{{ product.description | strip_html | escape }}">

  <div itemprop="offers" itemscope itemtype="http://schema.org/Offer" class="container p-0 m-0 mw-100 position-absolute featured-jumbo-container">
    <meta itemprop="priceCurrency" content="{{ shop.currency }}">
    <meta itemprop="price" content="{{ product.price | divided_by: 100.00 }}">
  	<div class="row justify-content-end">
  		<div class="col-xs-12 col-md-8 mb-2">
        <h1 class="display-4 text-right text-danger font-weight-bold">
          {{ section.settings.product_title }}
        </h1>
        <p class="text-right text-light font-weight-bold lead
                {% if section.settings.use_dark_text == true %}
                  text-dark
                {% endif %}
                ">
          {{ section.settings.product_description | newline_to_br }}
        </p>
  		</div>
	</div>
	<div class="row justify-content-end">
		<div class="col-xs-12 col-md-4 p-0">
			<a class="btn btn-warning btn-lg w-100" href="{{ product.url }}" role="button">Check it out</a>
		</div>
	</div>
  </div>


  {% unless product == empty %}
    <script type="application/json" data-product-json>
      {{ product | json }}
    </script>
  {% endunless %}
</section>

<style>

	.featured-jumbo-styles {
		height: 400px;
		background-image: url("{{ featured_image | img_url: '1920x' }}");
		background-repeat: no-repeat;
		background-position: center;
		background-size: cover;
	}

	/* desktop size adjustments */
	@media screen and (min-width: 768px) {
		.featured-image-styles {
			height: 500px;
		}
	}

	.featured-jumbo-container {
		bottom: 16px;
	}

</style>

{% schema %}
  {
    "name": "Featured Jumbotron",
    "settings": [
      {
        "type": "product",
        "id": "product",
        "label": "Product"
      },
      {
        "type": "text",
        "id": "product_title",
        "label": "Product Title",
        "default": "Product Title"
      },
      {
        "type": "textarea",
        "id": "product_description",
        "label": "Product Description",
        "default": "Description of Product here."
      },
      {
        "type": "image_picker",
        "id": "featured_jumbotron_image",
        "label": "Featured Jumbotron image"
      },
      {
        "type":      "checkbox",
        "id":        "use_dark_text",
        "label":     "Dark Text",
        "default":   false,
        "info":      "Use dark text for description?"
      }
    ],
    "presets": [
      {
        "name": "Featured Jumbotron",
        "category": "Product"
      }
    ]
  }
{% endschema %}